<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Student Expense Tracker – Dashboard</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
    * { box-sizing: border-box; font-family: Inter, sans-serif; }
    body { margin: 0; padding: 30px; background: #f8fafc; }
    h1 { margin-bottom: 5px; }
    .subtitle { color: #64748b; margin-bottom: 25px; }
    .top { display: flex; justify-content: space-between; align-items: center; }
    .btn { padding: 10px 14px; border-radius: 10px; border: 1px solid #e2e8f0; background: white; cursor: pointer; }

    .cards { display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 20px; margin-bottom: 30px; }
    .card { background: white; padding: 20px; border-radius: 16px; box-shadow: 0 10px 25px rgba(0,0,0,0.05); }
    .card h3 { margin-bottom: 15px; font-size: 15px; color: #475569; }
    .value { font-size: 22px; font-weight: 700; }
    .muted { color: #94a3b8; font-size: 14px; }
    .green { color: #16a34a; font-weight: 600; }
    .section { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
    input, select { width: 100%; padding: 12px; margin-top: 6px; margin-bottom: 12px; border-radius: 10px; border: 1px solid #e2e8f0; }
    .categories { display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 15px; }
    .cat { padding: 20px; border-radius: 16px; background: #f1f5f9; text-align: center; font-weight: 600; }

    /* Modal styling */
    .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); justify-content: center; align-items: center; }
    .modal-content { background: white; padding: 30px; border-radius: 16px; width: 300px; text-align: center; }
    .modal-content h3 { margin-bottom: 15px; }
    .modal-content input { margin-bottom: 15px; }
    .modal-content button { margin-top: 10px; padding: 10px 20px; border-radius: 10px; border: 1px solid #e2e8f0; background: #16a34a; color: white; cursor: pointer; }
</style>
</head>

<body>

<div class="top">
    <div>
        <h1>Dashboard</h1>
        <p class="subtitle">Track your daily expenses</p>
    </div>
    <button class="btn" id="budgetBtn">⚙ Budget Settings</button>
</div>

<!-- Budget Cards -->
<div class="cards">
    <div class="card">
        <h3>DAILY BUDGET</h3>
        <p class="muted">Budget</p>
        <p class="value">₹<span id="dailyBudget">0</span></p>
        <p class="muted">Spent</p>
        <p>₹<span id="dailySpent">0</span></p>
        <p class="muted">Remaining</p>
        <p class="green">₹<span id="dailyRemaining">0</span></p>
    </div>

    <div class="card">
        <h3>WEEKLY BUDGET</h3>
        <p class="muted">Budget</p>
        <p class="value">₹<span id="weeklyBudget">0</span></p>
        <p class="muted">Spent</p>
        <p>₹<span id="weeklySpent">0</span></p>
        <p class="muted">Remaining</p>
        <p class="green">₹<span id="weeklyRemaining">0</span></p>
    </div>

    <div class="card">
        <h3>MONTHLY BUDGET</h3>
        <p class="muted">Budget</p>
        <p class="value">₹<span id="monthlyBudget">0</span></p>
        <p class="muted">Spent</p>
        <p>₹<span id="monthlySpent">0</span></p>
        <p class="muted">Remaining</p>
        <p class="green">₹<span id="monthlyRemaining">0</span></p>
    </div>
</div>

<!-- Bottom Section -->
<div class="section">

    <!-- Add Expense -->
    <div class="card">
        <h3>Add New Expense</h3>
        <label>Title</label>
        <input type="text" placeholder="What did you spend on?">

        <label>Category</label>
        <select>
            <option>Food</option>
            <option>Study</option>
            <option>Fees</option>
            <option>Fun</option>
            <option>Travel</option>
        </select>

        <label>Amount (₹)</label>
        <input type="number" id="amount">

        <label>Date</label>
        <input type="date" id="date">

        <button id="addExpenseBtn">Add Expense</button>
    </div>

    <!-- Categories -->
    <div class="card">
        <h3>Category Breakdown (Today)</h3>
        <div class="categories">
            <div class="cat">Food<br>₹0</div>
            <div class="cat">Study<br>₹0</div>
            <div class="cat">Fees<br>₹0</div>
            <div class="cat">Fun<br>₹0</div>
            <div class="cat">Travel<br>₹0</div>
        </div>
    </div>

</div>

<!-- Modal for Budget Settings -->
<div class="modal" id="budgetModal">
    <div class="modal-content">
        <h3>Set Your Budgets</h3>
        <input type="number" id="dailyInput" placeholder="Daily Budget">
        <input type="number" id="weeklyInput" placeholder="Weekly Budget">
        <input type="number" id="monthlyInput" placeholder="Monthly Budget">
        <button id="saveBudgetBtn">Save</button>
    </div>
</div>

<script>
    // Set today's date automatically
    const today = new Date().toISOString().split("T")[0];
    document.getElementById("date").value = today;

    // Budgets
    let budgets = { daily: 0, weekly: 0, monthly: 0 };
    let spent = { daily: 0, weekly: 0, monthly: 0 };

    // Update budget display
    function updateBudgetDisplay() {
        document.getElementById("dailyBudget").textContent = budgets.daily;
        document.getElementById("weeklyBudget").textContent = budgets.weekly;
        document.getElementById("monthlyBudget").textContent = budgets.monthly;

        document.getElementById("dailySpent").textContent = spent.daily;
        document.getElementById("weeklySpent").textContent = spent.weekly;
        document.getElementById("monthlySpent").textContent = spent.monthly;

        document.getElementById("dailyRemaining").textContent = budgets.daily - spent.daily;
        document.getElementById("weeklyRemaining").textContent = budgets.weekly - spent.weekly;
        document.getElementById("monthlyRemaining").textContent = budgets.monthly - spent.monthly;
    }

    updateBudgetDisplay();

    // Modal functionality
    const modal = document.getElementById("budgetModal");
    const budgetBtn = document.getElementById("budgetBtn");
    const saveBtn = document.getElementById("saveBudgetBtn");

    budgetBtn.onclick = () => modal.style.display = "flex";
    saveBtn.onclick = () => {
        budgets.daily = Number(document.getElementById("dailyInput").value) || 0;
        budgets.weekly = Number(document.getElementById("weeklyInput").value) || 0;
        budgets.monthly = Number(document.getElementById("monthlyInput").value) || 0;
        modal.style.display = "none";
        updateBudgetDisplay();
        // Clear inputs
        document.getElementById("dailyInput").value = "";
        document.getElementById("weeklyInput").value = "";
        document.getElementById("monthlyInput").value = "";
    }

    window.onclick = (e) => { if(e.target === modal) modal.style.display = "none"; }

    // Category Breakdown
    const categories = ["Food","Study","Fees","Fun","Travel"];
    const categoryElements = document.querySelectorAll(".cat");

    document.getElementById("addExpenseBtn").onclick = () => {
        const amount = Number(document.getElementById("amount").value);
        const category = document.querySelector("select").value;
        if(!amount || amount <= 0) return alert("Enter valid amount");

        categories.forEach((cat, index) => {
            if(cat === category) {
                const current = Number(categoryElements[index].textContent.split("₹")[1]);
                categoryElements[index].innerHTML = `${cat}<br>₹${current + amount}`;
            }
        });

        // Update spent and remaining
        spent.daily += amount;
        spent.weekly += amount;
        spent.monthly += amount;
        updateBudgetDisplay();

        // Reset inputs
        document.getElementById("amount").value = "";
        document.querySelector("select").value = "Food";
    }
</script>

</body>
</html>

